{"version":3,"sources":["components/feedback-form/feedback-form.jsx"],"names":["FeedbackForm","requestNumber","creditData","addRequest","setRequestData","name","phone","email","data","type","credit","contribution","time","maternal","casco","insurance","HOME","CreditTypes","feedbackList","getFeedbackList","className","map","item","value","action","onSubmit","evt","preventDefault","id","user","options","handleFormSubmit","htmlFor","placeholder","required","onChange","extend","target","format","mask","onValueChange","connect","store","getRequestNumber","getCredit","getName","getPhone","getEmail","getRequestData","dispatch","setAddRequest"],"mappings":"4HAAA,iHAQMA,EAAe,SAAC,GAAuF,IAAtFC,EAAqF,EAArFA,cAAeC,EAAsE,EAAtEA,WAAYC,EAA0D,EAA1DA,WAAYC,EAA8C,EAA9CA,eAAgBC,EAA8B,EAA9BA,KAAMC,EAAwB,EAAxBA,MAAOC,EAAiB,EAAjBA,MAAOC,EAAU,EAAVA,KAEzFC,EAAgEP,EAAhEO,KAAMC,EAA0DR,EAA1DQ,OAAQC,EAAkDT,EAAlDS,aAAcC,EAAoCV,EAApCU,KAAMC,EAA8BX,EAA9BW,SAAUC,EAAoBZ,EAApBY,MAAOC,EAAab,EAAba,UACnDC,EAAQC,IAARD,KAEDE,EAAeC,YAAgBlB,EAAeQ,EAAMC,EAAQC,EAAcC,GAiChF,OACE,yBAASQ,UAAU,0BAAnB,SACE,sBAAKA,UAAU,8BAAf,UACE,oBAAIA,UAAU,kBAAd,qIACA,oBAAIA,UAAU,iBAAd,SACGF,EAAaG,KAAI,SAACC,GAAD,OAChB,sBAAKF,UAAU,iBAAf,UACE,oBAAIA,UAAU,kBAAd,SAAiCE,EAAKC,QACtC,oBAAIH,UAAU,iBAAd,SAAgCE,EAAKjB,SAFFiB,QAMzC,uBACEE,OAAO,IACPJ,UAAU,iBACVK,SAAU,SAACC,GAAD,OAjCO,SAACA,GACxBA,EAAIC,iBAEJxB,EAAW,CACTyB,GAAI3B,EACJQ,OACAC,SACAC,eACAC,OACAiB,KAAM,CACJxB,OACAC,QACAC,SAEFuB,QA1BErB,IAASO,EACJ,CACLH,YAIG,CACLC,QACAC,eAqCuBgB,CAAiBL,IAHtC,UAKE,2BAAUN,UAAU,qBAApB,UACE,wBAAQA,UAAU,oDAAlB,wIACA,uBAAOA,UAAU,kCAAkCY,QAAQ,OAA3D,oGACA,uBACEZ,UAAU,wCACVX,KAAK,OACLwB,YAAY,qBACZL,GAAG,OACHL,MAAOlB,EACP6B,UAAQ,EACRC,SAAU,SAACT,GAAD,OAAStB,EAAegC,YAAO5B,EAAM,CAC7CH,KAAMqB,EAAIW,OAAOd,YAGrB,uBAAOH,UAAU,kCAAkCY,QAAQ,QAA3D,sHACA,cAAC,IAAD,CACEZ,UAAU,yCACVX,KAAK,MACLwB,YAAY,6CACZL,GAAG,QACHU,OAAO,oBACPC,KAAK,IACLhB,MAAOjB,EACP4B,UAAQ,EACRM,cAAe,SAACd,GAAD,OAAStB,EAAegC,YAAO5B,EAAM,CAClDF,MAAOoB,EAAIH,YAGf,uBAAOH,UAAU,kCAAkCY,QAAQ,QAA3D,uKACA,uBACEZ,UAAU,wCACVX,KAAK,QACLwB,YAAY,SACZL,GAAG,QACHL,MAAOhB,EACP2B,UAAQ,EACRC,SAAU,SAACT,GAAD,OAAStB,EAAegC,YAAO5B,EAAM,CAC7CD,MAAOmB,EAAIW,OAAOd,eAIxB,wBAAQH,UAAU,mBAAmBX,KAAK,SAA1C,6EA2BKgC,uBApBS,SAACC,GAAD,MAAY,CAClCzC,cAAe0C,YAAiBD,GAChCxC,WAAY0C,YAAUF,GACtBrC,KAAMwC,YAAQH,GACdpC,MAAOwC,YAASJ,GAChBnC,MAAOwC,YAASL,GAChBlC,KAAMwC,YAAeN,OAGI,SAACO,GAAD,MAAe,CACxC9C,WADwC,SAC7BK,GACTyC,EAASC,YAAc1C,KAEzBJ,eAJwC,SAIzBI,GACbyC,EAAS7C,YAAeI,QAMbiC,CAA6CzC","file":"static/js/11.998f3ddc.chunk.js","sourcesContent":["import React from 'react';\nimport {connect} from 'react-redux';\nimport NumberFormat from 'react-number-format';\nimport {CreditTypes} from '../../const';\nimport {extend, getFeedbackList} from '../../utils';\nimport {getRequestNumber, getCredit, getName, getPhone, getEmail, getRequestData} from '../../store/selectors';\nimport {setAddRequest, setRequestData} from '../../store/action';\n\nconst FeedbackForm = ({requestNumber, creditData, addRequest, setRequestData, name, phone, email, data}) => {\n\n  const {type, credit, contribution, time, maternal, casco, insurance} = creditData;\n  const {HOME} = CreditTypes;\n\n  const feedbackList = getFeedbackList(requestNumber, type, credit, contribution, time);\n\n  const getOptions = () => {\n    if (type === HOME) {\n      return {\n        maternal\n      }\n    }\n\n    return {\n      casco,\n      insurance\n    }\n  };\n\n  const handleFormSubmit = (evt) => {\n    evt.preventDefault();\n\n    addRequest({\n      id: requestNumber,\n      type,\n      credit,\n      contribution,\n      time,\n      user: {\n        name,\n        phone,\n        email,\n      },\n      options: getOptions()\n    });\n  };\n\n  return (\n    <section className=\"main__feedback feedback\">\n      <div className=\"feedback__wrapper container\">\n        <h3 className=\"feedback__title\">Шаг 3. Оформление заявки</h3>\n        <dl className=\"feedback__list\">\n          {feedbackList.map((item) => (\n            <div className=\"feedback__item\" key={item}>\n              <dd className=\"feedback__value\">{item.value}</dd>\n              <dt className=\"feedback__name\">{item.name}</dt>\n            </div>\n          ))}\n        </dl>\n        <form\n          action=\"#\"\n          className=\"feedback__form\"\n          onSubmit={(evt) => handleFormSubmit(evt)}\n        >\n          <fieldset className=\"feedback__fieldset\">\n            <legend className=\"feedback__legend feedback__legend visually-hidden\">Поля оформления заявки</legend>\n            <label className=\"feedback__label visually-hidden\" htmlFor=\"name\">Поле ввода имени</label>\n            <input\n              className=\"feedback__input feedback__input--name\"\n              type=\"text\"\n              placeholder=\"ФИО\"\n              id=\"name\"\n              value={name}\n              required\n              onChange={(evt) => setRequestData(extend(data, {\n                name: evt.target.value\n              }))}\n            />\n            <label className=\"feedback__label visually-hidden\" htmlFor=\"phone\">Поле ввода телефона</label>\n            <NumberFormat\n              className=\"feedback__input feedback__input--phone\"\n              type=\"tel\"\n              placeholder=\"Телефон\"\n              id=\"phone\"\n              format=\"+7 (###) ###-####\"\n              mask=\"_\"\n              value={phone}\n              required\n              onValueChange={(evt) => setRequestData(extend(data, {\n                phone: evt.value\n              }))}\n            />\n            <label className=\"feedback__label visually-hidden\" htmlFor=\"email\">Поле ввода электронной почты</label>\n            <input\n              className=\"feedback__input feedback__input--mail\"\n              type=\"email\"\n              placeholder=\"E-mail\"\n              id=\"email\"\n              value={email}\n              required\n              onChange={(evt) => setRequestData(extend(data, {\n                email: evt.target.value\n              }))}\n            />\n          </fieldset>\n          <button className=\"feedback__button\" type=\"submit\">Отправить</button>\n        </form>\n      </div>\n    </section>\n  );\n};\n\nconst mapStateToProps = (store) => ({\n  requestNumber: getRequestNumber(store),\n  creditData: getCredit(store),\n  name: getName(store),\n  phone: getPhone(store),\n  email: getEmail(store),\n  data: getRequestData(store)\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  addRequest(data) {\n    dispatch(setAddRequest(data));\n  },\n  setRequestData(data) {\n    dispatch(setRequestData(data));\n  },\n});\n\nexport {FeedbackForm};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FeedbackForm);\n"],"sourceRoot":""}