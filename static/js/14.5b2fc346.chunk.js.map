{"version":3,"sources":["store/action.js","components/feedback-form/feedback-form.jsx"],"names":["ADD_CREDIT","ActionType","ADD_OFFER","MODAL_OPEN","CLEAR_CREDIT","MODAL_CLOSE","AUTHORIZED_SAVE_DATA","AUTHORIZED_CLEAR_DATA","FEEDBACK_OPEN","REQUEST_ADD","DATA_CHANGE","setCredit","data","type","payload","setOffer","setModalOpen","setPopupClose","setAuthorizationData","clearAuthorizationData","setRequestData","setRequestModalClose","setFeedbackOpen","setAddRequest","FeedbackForm","requestNumber","creditData","addRequest","name","phone","email","credit","contribution","time","maternal","casco","insurance","HOME","CreditTypes","feedbackList","getFeedbackList","className","map","item","index","value","action","onSubmit","evt","preventDefault","id","user","options","handleFormSubmit","htmlFor","placeholder","required","onChange","extend","target","format","mask","onValueChange","connect","store","getRequestNumber","getCredit","getName","getPhone","getEmail","getRequestData","dispatch"],"mappings":"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","file":"static/js/14.5b2fc346.chunk.js","sourcesContent":["import {ActionType} from '../const';\n\nconst {\n  ADD_CREDIT,\n  ADD_OFFER,\n  CLEAR_CREDIT,\n  MODAL_OPEN,\n  MODAL_CLOSE,\n  AUTHORIZED_SAVE_DATA,\n  AUTHORIZED_CLEAR_DATA,\n  FEEDBACK_OPEN,\n  REQUEST_ADD,\n  DATA_CHANGE\n} = ActionType;\n\nexport const setCredit = (data) => ({\n  type: ADD_CREDIT,\n  payload: data,\n});\n\nexport const setOffer = (data) => ({\n  type: ADD_OFFER,\n  payload: data,\n});\n\nexport const removeCredit = () => ({\n  type: CLEAR_CREDIT,\n});\n\nexport const setModalOpen = () => ({\n  type: MODAL_OPEN,\n});\n\nexport const setPopupClose = () => ({\n  type: MODAL_CLOSE,\n});\n\nexport const setAuthorizationData = (data) => ({\n  type: AUTHORIZED_SAVE_DATA,\n  payload: data,\n});\n\nexport const clearAuthorizationData = () => ({\n  type: AUTHORIZED_CLEAR_DATA,\n});\n\nexport const setRequestData = (data) => ({\n  type: DATA_CHANGE,\n  payload: data,\n});\n\nexport const setRequestModalClose = () => ({\n  type: MODAL_CLOSE,\n});\n\nexport const setFeedbackOpen = () => ({\n  type: FEEDBACK_OPEN,\n});\n\nexport const setAddRequest = (data) => ({\n  type: REQUEST_ADD,\n  payload: data,\n});\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport NumberFormat from 'react-number-format';\nimport {CreditTypes} from '../../const';\nimport {extend, getFeedbackList} from '../../utils';\nimport {getRequestNumber, getCredit, getName, getPhone, getEmail, getRequestData} from '../../store/selectors';\nimport {setAddRequest, setRequestData} from '../../store/action';\nimport PropTypes from 'prop-types';\n\nconst FeedbackForm = ({requestNumber, creditData, addRequest, setRequestData, name, phone, email, data}) => {\n\n  const {type, credit, contribution, time, maternal, casco, insurance} = creditData;\n  const {HOME} = CreditTypes;\n\n  const feedbackList = getFeedbackList(requestNumber, type, credit, contribution, time);\n\n  const getOptions = () => {\n    if (type === HOME) {\n      return {\n        maternal\n      }\n    }\n\n    return {\n      casco,\n      insurance\n    }\n  };\n\n  const handleFormSubmit = (evt) => {\n    evt.preventDefault();\n\n    addRequest({\n      id: requestNumber,\n      type,\n      credit,\n      contribution,\n      time,\n      user: {\n        name,\n        phone,\n        email,\n      },\n      options: getOptions()\n    });\n  };\n\n  return (\n    <section className=\"main__feedback feedback\">\n      <div className=\"feedback__wrapper container\">\n        <h3 className=\"feedback__title\">Шаг 3. Оформление заявки</h3>\n        <dl className=\"feedback__list\">\n          {feedbackList.map((item, index) => (\n            <div className=\"feedback__item\" key={item + index}>\n              <dd className=\"feedback__value\">{item.value}</dd>\n              <dt className=\"feedback__name\">{item.name}</dt>\n            </div>\n          ))}\n        </dl>\n        <form\n          action=\"#\"\n          className=\"feedback__form\"\n          onSubmit={(evt) => handleFormSubmit(evt)}\n        >\n          <fieldset className=\"feedback__fieldset\">\n            <legend className=\"feedback__legend feedback__legend visually-hidden\">Поля оформления заявки</legend>\n            <label className=\"feedback__label visually-hidden\" htmlFor=\"name\">Поле ввода имени</label>\n            <input\n              className=\"feedback__input feedback__input--name\"\n              type=\"text\"\n              placeholder=\"ФИО\"\n              id=\"name\"\n              value={name}\n              required\n              onChange={(evt) => setRequestData(extend(data, {\n                name: evt.target.value\n              }))}\n            />\n            <label className=\"feedback__label visually-hidden\" htmlFor=\"phone\">Поле ввода телефона</label>\n            <NumberFormat\n              className=\"feedback__input feedback__input--phone\"\n              type=\"tel\"\n              placeholder=\"Телефон\"\n              id=\"phone\"\n              format=\"+7 (###) ###-####\"\n              mask=\"_\"\n              value={phone}\n              required\n              onValueChange={(evt) => setRequestData(extend(data, {\n                phone: evt.value\n              }))}\n            />\n            <label className=\"feedback__label visually-hidden\" htmlFor=\"email\">Поле ввода электронной почты</label>\n            <input\n              className=\"feedback__input feedback__input--mail\"\n              type=\"email\"\n              placeholder=\"E-mail\"\n              id=\"email\"\n              value={email}\n              required\n              onChange={(evt) => setRequestData(extend(data, {\n                email: evt.target.value\n              }))}\n            />\n          </fieldset>\n          <button className=\"feedback__button\" type=\"submit\">Отправить</button>\n        </form>\n      </div>\n    </section>\n  );\n};\n\n//requestNumber, creditData, addRequest, setRequestData, name, phone, email, data\n\nFeedbackForm.propTypes = {\n  requestNumber: PropTypes.number.isRequired,\n  creditData: PropTypes.shape({\n    type: PropTypes.string.isRequired,\n    credit: PropTypes.number.isRequired,\n    contribution: PropTypes.number.isRequired,\n    time: PropTypes.number.isRequired,\n    maternal: PropTypes.bool.isRequired,\n    casco: PropTypes.bool.isRequired,\n    insurance: PropTypes.bool.isRequired,\n  }).isRequired,\n  addRequest: PropTypes.func.isRequired,\n  setRequestData: PropTypes.func.isRequired,\n  name: PropTypes.string.isRequired,\n  phone: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  data: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    phone: PropTypes.string.isRequired,\n    email: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nconst mapStateToProps = (store) => ({\n  requestNumber: getRequestNumber(store),\n  creditData: getCredit(store),\n  name: getName(store),\n  phone: getPhone(store),\n  email: getEmail(store),\n  data: getRequestData(store)\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  addRequest(data) {\n    dispatch(setAddRequest(data));\n  },\n  setRequestData(data) {\n    dispatch(setRequestData(data));\n  },\n});\n\nexport {FeedbackForm};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FeedbackForm);\n"],"sourceRoot":""}